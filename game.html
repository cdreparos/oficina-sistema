<!DOCTYPE html>

<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Desvie dos Obst√°culos</title>
    <style>
        /* Reset e estilos gerais */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        font-family: 'Arial', sans-serif;
        overflow: hidden;
        touch-action: none; /* Previne scroll no mobile */
    }

    /* Container principal do jogo */
    #gameContainer {
        position: relative;
        width: 90vw;
        max-width: 400px;
        height: 80vh;
        max-height: 600px;
        background: #2a2a2a;
        border: 3px solid #fff;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        overflow: hidden;
    }

    /* √Årea de jogo (pista) */
    #gameArea {
        position: absolute;
        top: 0;
        left: 10%;
        width: 80%;
        height: 100%;
        background: linear-gradient(180deg, #3a3a3a 0%, #4a4a4a 100%);
        border-left: 2px dashed #fff;
        border-right: 2px dashed #fff;
    }

    /* Personagem (carro) */
    #player {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 40px;
        height: 60px;
        background: linear-gradient(180deg, #00ff00 0%, #00cc00 50%, #009900 100%);
        border-radius: 10px 10px 5px 5px;
        box-shadow: 0 2px 10px rgba(0, 255, 0, 0.5);
        transition: left 0.05s ease-out;
        z-index: 10;
    }

    /* Far√≥is do carro */
    #player::before,
    #player::after {
        content: '';
        position: absolute;
        width: 10px;
        height: 10px;
        background: #ffff00;
        border-radius: 50%;
        top: 5px;
    }

    #player::before {
        left: 5px;
    }

    #player::after {
        right: 5px;
    }

    /* Obst√°culos */
    .obstacle {
        position: absolute;
        width: 40px;
        height: 60px;
        background: linear-gradient(180deg, #ff0000 0%, #cc0000 50%, #990000 100%);
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(255, 0, 0, 0.5);
    }

    /* Janelas dos obst√°culos */
    .obstacle::before {
        content: '';
        position: absolute;
        width: 30px;
        height: 20px;
        background: rgba(255, 255, 255, 0.3);
        top: 10px;
        left: 5px;
        border-radius: 3px;
    }

    /* Placar */
    #score {
        position: absolute;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        color: #fff;
        font-size: 24px;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        z-index: 100;
    }

    /* Recorde */
    #highScore {
        position: absolute;
        top: 50px;
        left: 50%;
        transform: translateX(-50%);
        color: #ffd700;
        font-size: 16px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        z-index: 100;
    }

    /* Tela inicial */
    #startScreen {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 200;
    }

    #startScreen h1 {
        color: #fff;
        font-size: 28px;
        margin-bottom: 20px;
        text-align: center;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
    }

    #startScreen p {
        color: #fff;
        font-size: 14px;
        margin-bottom: 30px;
        text-align: center;
        padding: 0 20px;
        line-height: 1.5;
    }

    /* Tela de Game Over */
    #gameOverScreen {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 200;
    }

    #gameOverScreen h2 {
        color: #ff0000;
        font-size: 36px;
        margin-bottom: 20px;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
        animation: pulse 1s infinite;
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    #finalScore {
        color: #fff;
        font-size: 24px;
        margin-bottom: 30px;
    }

    /* Bot√µes */
    .gameButton {
        padding: 15px 40px;
        font-size: 20px;
        font-weight: bold;
        color: #fff;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        border-radius: 50px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
    }

    .gameButton:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    .gameButton:active {
        transform: translateY(0);
    }

    /* Indicadores de toque */
    .touchIndicator {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 40px;
        color: rgba(255, 255, 255, 0.2);
        pointer-events: none;
        z-index: 5;
    }

    #leftIndicator {
        left: 20px;
    }

    #rightIndicator {
        right: 20px;
    }

    /* Responsividade */
    @media (max-width: 480px) {
        #startScreen h1 {
            font-size: 24px;
        }
        
        #gameOverScreen h2 {
            font-size: 28px;
        }
        
        .gameButton {
            padding: 12px 30px;
            font-size: 18px;
        }
    }
</style>
```

</head>
<body>
    <div id="gameContainer">
        <!-- √Årea do jogo -->
        <div id="gameArea"></div>

```
    <!-- Personagem -->
    <div id="player"></div>
    
    <!-- Placar -->
    <div id="score">0</div>
    <div id="highScore">Recorde: 0</div>
    
    <!-- Indicadores de toque -->
    <div class="touchIndicator" id="leftIndicator">‚óÑ</div>
    <div class="touchIndicator" id="rightIndicator">‚ñ∫</div>
    
    <!-- Tela inicial -->
    <div id="startScreen">
        <h1>üöó Desvie dos Obst√°culos üöó</h1>
        <p>
            Use as setas ‚Üê ‚Üí ou toque na tela<br>
            Desvie dos carros vermelhos!<br>
            Quanto mais tempo sobreviver, maior sua pontua√ß√£o!
        </p>
        <button class="gameButton" id="startButton">Iniciar Jogo</button>
    </div>
    
    <!-- Tela de Game Over -->
    <div id="gameOverScreen">
        <h2>GAME OVER!</h2>
        <div id="finalScore">Pontua√ß√£o: 0</div>
        <button class="gameButton" id="restartButton">Jogar Novamente</button>
    </div>
</div>

<script>
    // Configura√ß√µes do jogo
    const config = {
        playerSpeed: 20, // Velocidade de movimento do jogador (aumentada de 8 para 20)
        initialObstacleSpeed: 3, // Velocidade inicial dos obst√°culos
        speedIncrement: 0.0005, // Incremento de velocidade ao longo do tempo
        obstacleSpawnRate: 1500, // Taxa inicial de spawn em ms
        minSpawnRate: 500, // Taxa m√≠nima de spawn
        spawnRateDecrement: 10 // Diminui√ß√£o da taxa de spawn
    };

    // Vari√°veis do jogo
    let gameRunning = false;
    let score = 0;
    let highScore = localStorage.getItem('highScore') || 0;
    let obstacleSpeed = config.initialObstacleSpeed;
    let spawnRate = config.obstacleSpawnRate;
    let lastSpawnTime = 0;
    let animationId = null;
    let scoreInterval = null;
    let obstacles = [];

    // Elementos do DOM
    const gameContainer = document.getElementById('gameContainer');
    const gameArea = document.getElementById('gameArea');
    const player = document.getElementById('player');
    const scoreElement = document.getElementById('score');
    const highScoreElement = document.getElementById('highScore');
    const startScreen = document.getElementById('startScreen');
    const gameOverScreen = document.getElementById('gameOverScreen');
    const finalScoreElement = document.getElementById('finalScore');
    const startButton = document.getElementById('startButton');
    const restartButton = document.getElementById('restartButton');

    // Atualizar recorde na tela
    highScoreElement.textContent = `Recorde: ${highScore}`;

    // Posi√ß√£o do jogador
    let playerPosition = 50; // Porcentagem da largura da √°rea de jogo

    // Controles do teclado
    const keys = {};
    
    document.addEventListener('keydown', (e) => {
        keys[e.key] = true;
        if (gameRunning) {
            if (e.key === 'ArrowLeft') {
                movePlayer('left');
            } else if (e.key === 'ArrowRight') {
                movePlayer('right');
            }
        }
    });

    document.addEventListener('keyup', (e) => {
        keys[e.key] = false;
    });

    // Controles de toque
    let touchStartX = null;
    
    gameContainer.addEventListener('touchstart', (e) => {
        if (!gameRunning) return;
        e.preventDefault();
        
        const touch = e.touches[0];
        const containerRect = gameContainer.getBoundingClientRect();
        const touchX = touch.clientX - containerRect.left;
        const containerWidth = containerRect.width;
        
        // Determina se o toque foi na metade esquerda ou direita
        if (touchX < containerWidth / 2) {
            movePlayer('left');
        } else {
            movePlayer('right');
        }
    });

    // Controles do mouse (para desktop)
    gameContainer.addEventListener('click', (e) => {
        if (!gameRunning) return;
        
        const containerRect = gameContainer.getBoundingClientRect();
        const clickX = e.clientX - containerRect.left;
        const containerWidth = containerRect.width;
        
        if (clickX < containerWidth / 2) {
            movePlayer('left');
        } else {
            movePlayer('right');
        }
    });

    // Fun√ß√£o para mover o jogador
    function movePlayer(direction) {
        const gameAreaRect = gameArea.getBoundingClientRect();
        const containerRect = gameContainer.getBoundingClientRect();
        const playerWidth = player.offsetWidth;
        
        // Calcula os limites da √°rea de jogo
        const minX = gameAreaRect.left - containerRect.left;
        const maxX = gameAreaRect.right - containerRect.left - playerWidth;
        
        // Calcula a nova posi√ß√£o
        let newX = player.offsetLeft;
        
        if (direction === 'left') {
            newX -= config.playerSpeed;
        } else if (direction === 'right') {
            newX += config.playerSpeed;
        }
        
        // Aplica limites
        newX = Math.max(minX, Math.min(newX, maxX));
        
        // Atualiza a posi√ß√£o do jogador
        player.style.left = newX + 'px';
    }

    // Fun√ß√£o para criar obst√°culos
    function createObstacle() {
        const obstacle = document.createElement('div');
        obstacle.className = 'obstacle';
        
        // Posi√ß√£o aleat√≥ria dentro da √°rea de jogo
        const gameAreaRect = gameArea.getBoundingClientRect();
        const containerRect = gameContainer.getBoundingClientRect();
        const obstacleWidth = 40;
        
        const minX = gameAreaRect.left - containerRect.left;
        const maxX = gameAreaRect.right - containerRect.left - obstacleWidth;
        const randomX = Math.random() * (maxX - minX) + minX;
        
        obstacle.style.left = randomX + 'px';
        obstacle.style.top = '-60px';
        
        gameContainer.appendChild(obstacle);
        obstacles.push(obstacle);
    }

    // Fun√ß√£o para mover obst√°culos
    function moveObstacles() {
        obstacles = obstacles.filter(obstacle => {
            const currentTop = parseFloat(obstacle.style.top) || 0;
            const newTop = currentTop + obstacleSpeed;
            
            // Remove obst√°culo se saiu da tela
            if (newTop > gameContainer.offsetHeight) {
                obstacle.remove();
                return false;
            }
            
            obstacle.style.top = newTop + 'px';
            return true;
        });
    }

    // Fun√ß√£o para verificar colis√µes
    function checkCollision() {
        const playerRect = player.getBoundingClientRect();
        
        for (const obstacle of obstacles) {
            const obstacleRect = obstacle.getBoundingClientRect();
            
            // Verifica sobreposi√ß√£o
            if (playerRect.left < obstacleRect.right &&
                playerRect.right > obstacleRect.left &&
                playerRect.top < obstacleRect.bottom &&
                playerRect.bottom > obstacleRect.top) {
                
                // Colis√£o detectada!
                gameOver();
                playSound('collision');
                return true;
            }
        }
        
        return false;
    }

    // Fun√ß√£o de som (simples, usando Web Audio API)
    function playSound(type) {
        try {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            if (type === 'start') {
                oscillator.frequency.value = 523.25; // C5
                gainNode.gain.value = 0.1;
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.1);
            } else if (type === 'collision') {
                oscillator.frequency.value = 200;
                oscillator.type = 'sawtooth';
                gainNode.gain.value = 0.2;
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.3);
            }
        } catch (e) {
            // Ignora erros de √°udio
        }
    }

    // Loop principal do jogo
    function gameLoop(timestamp) {
        if (!gameRunning) return;
        
        // Spawn de obst√°culos
        if (timestamp - lastSpawnTime > spawnRate) {
            createObstacle();
            lastSpawnTime = timestamp;
            
            // Diminui o intervalo de spawn gradualmente
            if (spawnRate > config.minSpawnRate) {
                spawnRate -= config.spawnRateDecrement;
            }
        }
        
        // Move obst√°culos
        moveObstacles();
        
        // Verifica colis√µes
        checkCollision();
        
        // Aumenta a velocidade gradualmente
        obstacleSpeed += config.speedIncrement;
        
        // Continua o loop
        animationId = requestAnimationFrame(gameLoop);
    }

    // Fun√ß√£o para iniciar o jogo
    function startGame() {
        // Reset das vari√°veis
        score = 0;
        obstacleSpeed = config.initialObstacleSpeed;
        spawnRate = config.obstacleSpawnRate;
        obstacles = [];
        gameRunning = true;
        
        // Limpa obst√°culos anteriores
        document.querySelectorAll('.obstacle').forEach(obs => obs.remove());
        
        // Posiciona o jogador no centro
        const gameAreaRect = gameArea.getBoundingClientRect();
        const containerRect = gameContainer.getBoundingClientRect();
        const centerX = (gameAreaRect.left + gameAreaRect.right) / 2 - containerRect.left - player.offsetWidth / 2;
        player.style.left = centerX + 'px';
        
        // Esconde telas
        startScreen.style.display = 'none';
        gameOverScreen.style.display = 'none';
        
        // Atualiza pontua√ß√£o
        scoreElement.textContent = '0';
        
        // Inicia o contador de pontos
        scoreInterval = setInterval(() => {
            if (gameRunning) {
                score++;
                scoreElement.textContent = score;
            }
        }, 100); // Aumenta a pontua√ß√£o a cada 100ms
        
        // Som de in√≠cio
        playSound('start');
        
        // Inicia o loop do jogo
        lastSpawnTime = 0;
        animationId = requestAnimationFrame(gameLoop);
    }

    // Fun√ß√£o de game over
    function gameOver() {
        gameRunning = false;
        
        // Para o loop do jogo
        if (animationId) {
            cancelAnimationFrame(animationId);
        }
        
        // Para o contador de pontos
        if (scoreInterval) {
            clearInterval(scoreInterval);
        }
        
        // Atualiza recorde
        if (score > highScore) {
            highScore = score;
            localStorage.setItem('highScore', highScore);
            highScoreElement.textContent = `Recorde: ${highScore}`;
        }
        
        // Mostra tela de game over
        finalScoreElement.textContent = `Pontua√ß√£o: ${score}`;
        gameOverScreen.style.display = 'flex';
    }

    // Event listeners dos bot√µes
    startButton.addEventListener('click', startGame);
    restartButton.addEventListener('click', startGame);

    // Previne zoom no mobile
    document.addEventListener('touchmove', (e) => {
        if (gameRunning) {
            e.preventDefault();
        }
    }, { passive: false });

    // Ajusta a posi√ß√£o inicial do jogador quando a p√°gina carrega
    window.addEventListener('load', () => {
        const gameAreaRect = gameArea.getBoundingClientRect();
        const containerRect = gameContainer.getBoundingClientRect();
        const centerX = (gameAreaRect.left + gameAreaRect.right) / 2 - containerRect.left - player.offsetWidth / 2;
        player.style.left = centerX + 'px';
    });
</script>
```

</body>
</html>